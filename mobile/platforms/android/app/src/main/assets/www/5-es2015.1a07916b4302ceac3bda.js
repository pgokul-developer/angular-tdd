(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{lCCV:function(t,e,o){"use strict";o.r(e);var c=o("ZAI4"),n=o("kt0X");const r=Object(n.n)("[Todo] Load Todos"),s=Object(n.n)("[Todo] Load Todos Success",Object(n.s)()),i=Object(n.n)("[Todo] Load Todos Failure",Object(n.s)()),d=Object(n.n)("[Todo] Reset Error"),a=Object(n.n)("[Todo] Create Todo",Object(n.s)()),b=Object(n.n)("[Todo] Create Todo Success",Object(n.s)()),p=Object(n.n)("[Todo] Create Todo Failure",Object(n.s)()),l=Object(n.n)("[Todo] Complete Todo",Object(n.s)()),u=Object(n.n)("[Todo] Complete Todo Success",Object(n.s)()),O=Object(n.n)("[Todo] Complete Todo Failure",Object(n.s)()),j=Object(n.p)({todos:[],error:""},Object(n.r)(r,t=>t),Object(n.r)(s,(t,e)=>t),Object(n.r)(i,(t,e)=>t),Object(n.r)(d,t=>Object.assign(Object.assign({},t),{error:""})),Object(n.r)(b,(t,{todo:e})=>Object.assign(Object.assign({},t),{todos:[...t.todos,e]})),Object(n.r)(p,(t,{error:e})=>Object.assign(Object.assign({},t),{error:e})),Object(n.r)(u,(t,{todo:e})=>Object.assign(Object.assign({},t),{todos:t.todos.map(t=>t.id===e.id?e:t)})),Object(n.r)(O,(t,{error:e})=>Object.assign(Object.assign({},t),{error:e})));function m(t,e){return j(t,e)}const f=Object(n.o)("todo"),T=Object(n.q)(f,t=>t.todos);Object(n.q)(f,t=>t.error);var h=o("fXoL");let g=(()=>{class t{constructor(t){this.store=t,this.todos$=this.store.pipe(Object(n.t)(T))}createTodo(t){this.store.dispatch(a({description:t}))}completeTodo(t){this.store.dispatch(l({todo:t}))}}return t.\u0275fac=function(e){return new(e||t)(h.Ub(n.h))},t.\u0275prov=h.Hb({token:t,factory:t.\u0275fac}),t})();var C=o("kmnG"),v=o("qFsG"),y=o("3Pt+"),w=o("bTqV");let P=(()=>{class t{constructor(){this.newTodo="",this.createTodo=new h.n}ngOnInit(){}onKeyEnterCreateTodo(t){alert("keydown.enter"),console.log("$event",t),this.emitCreateTodo(t.target.value),t.target.value=""}emitCreateTodo(t){this.createTodo.emit(t)}keyPress(t){const e=String.fromCharCode(t.charCode);console.log("keyPress",e),/[0-9]/.test(e)||t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Fb({type:t,selectors:[["app-todo-input"]],outputs:{createTodo:"createTodo"},decls:6,vars:1,consts:[["matInput","","type","text","placeholder","Add Todo item",3,"ngModel","ngModelChange","keydown.enter"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(h.Qb(0,"mat-form-field"),h.Qb(1,"mat-label"),h.oc(2,"Add Todo item"),h.Pb(),h.Qb(3,"input",0),h.Yb("ngModelChange",(function(t){return e.newTodo=t}))("keydown.enter",(function(t){return e.onKeyEnterCreateTodo(t)})),h.Pb(),h.Pb(),h.Qb(4,"button",1),h.Yb("click",(function(){return e.emitCreateTodo(e.newTodo)})),h.oc(5,"Create"),h.Pb()),2&t&&(h.Bb(3),h.fc("ngModel",e.newTodo))},directives:[C.a,C.d,v.a,y.a,y.e,y.g,w.a],styles:[""]}),t})();var k=o("ofXK");const F=function(t){return{completed:t}};let Q=(()=>{class t{constructor(){this.complete=new h.n}ngOnInit(){}emitCompleteTodo(){this.complete.emit(this.todo)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Fb({type:t,selectors:[["app-todo-list-item"]],inputs:{todo:"todo"},outputs:{complete:"complete"},decls:9,vars:4,consts:[[1,"todo-list-item"],[1,"complete",3,"ngClass","click"],[1,"material-icons"],[1,"description"],[1,"remove"]],template:function(t,e){1&t&&(h.Qb(0,"div",0),h.Qb(1,"div",1),h.Yb("click",(function(){return e.emitCompleteTodo()})),h.Qb(2,"span",2),h.oc(3," check_circle_outline "),h.Pb(),h.Pb(),h.Qb(4,"div",3),h.oc(5),h.Pb(),h.Qb(6,"div",4),h.Qb(7,"span",2),h.oc(8," clear "),h.Pb(),h.Pb(),h.Pb()),2&t&&(h.Bb(1),h.fc("ngClass",h.gc(2,F,e.todo.completed)),h.Bb(4),h.pc(e.todo.description))},directives:[k.i],styles:[".todo-list-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.complete[_ngcontent-%COMP%]{color:#d3d3d3}.complete.completed[_ngcontent-%COMP%]{color:green}"]}),t})();function $(t,e){if(1&t){const t=h.Rb();h.Qb(0,"app-todo-list-item",5),h.Yb("complete",(function(e){return h.ic(t),h.ac().completeTodo(e)})),h.Pb()}2&t&&h.fc("todo",e.$implicit)}let A=(()=>{class t{constructor(t){this.todoFacade=t}ngOnInit(){}createTodo(t){this.todoFacade.createTodo(t)}completeTodo(t){console.log(t),this.todoFacade.completeTodo(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(g))},t.\u0275cmp=h.Fb({type:t,selectors:[["app-todo-container"]],decls:6,vars:3,consts:[[1,"todo-container"],[1,"todo-wrapper"],[3,"createTodo"],[1,"todo-list"],[3,"todo","complete",4,"ngFor","ngForOf"],[3,"todo","complete"]],template:function(t,e){1&t&&(h.Qb(0,"div",0),h.Qb(1,"div",1),h.Qb(2,"app-todo-input",2),h.Yb("createTodo",(function(t){return e.createTodo(t)})),h.Pb(),h.Qb(3,"div",3),h.nc(4,$,1,1,"app-todo-list-item",4),h.bc(5,"async"),h.Pb(),h.Pb(),h.Pb()),2&t&&(h.Bb(4),h.fc("ngForOf",h.cc(5,1,e.todoFacade.todos$)))},directives:[P,k.j,Q],pipes:[k.b],styles:[".todo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();var I=o("tyNb");const M=[{path:"",component:A}];let J=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},imports:[[I.f.forChild(M)],I.f]}),t})();var L=o("snw9"),Y=o("bOdf"),_=o("lJxs"),q=o("JIr8"),x=o("eIep"),B=o("EY2u"),E=o("LRne"),S=o("tk/3");let U=(()=>{class t{constructor(t){this.httpClient=t,this.id=0}generateTodo(t){return{description:t.description,id:++this.id,completed:!1}}createTodoApi(t){return Object(E.a)(this.generateTodo(t))}completeTodoApi(t){let e=Object.assign({},t);return e.completed=!0,Object(E.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(h.Ub(S.a))},t.\u0275prov=h.Hb({token:t,factory:t.\u0275fac}),t})(),H=(()=>{class t{constructor(t,e){this.actions$=t,this.todoApi=e,this.mockTodo={description:"todo 1",id:1,completed:!1},this.loadTodos$=Object(L.c)(()=>this.actions$.pipe(Object(L.d)(r),Object(Y.a)(()=>B.a.pipe(Object(_.a)(t=>s({data:t})),Object(q.a)(t=>Object(E.a)(i({error:t}))))))),this.createTodo$=Object(L.c)(()=>()=>this.actions$.pipe(Object(L.d)(a),Object(x.a)(t=>this.todoApi.createTodoApi(t).pipe(Object(_.a)(t=>b({todo:t})),Object(q.a)(t=>Object(E.a)(p({error:t}))))))),this.completeTodo$=Object(L.c)(()=>()=>this.actions$.pipe(Object(L.d)(l),Object(x.a)(t=>this.todoApi.completeTodoApi(t.todo).pipe(Object(_.a)(t=>u({todo:t})),Object(q.a)(t=>Object(E.a)(O({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(h.Ub(L.a),h.Ub(U))},t.\u0275prov=h.Hb({token:t,factory:t.\u0275fac}),t})();o.d(e,"TodoModule",(function(){return K}));let K=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},providers:[U,g],imports:[[k.c,n.j.forFeature("todo",m),L.b.forFeature([H]),S.b,J,c.b,y.c]]}),t})()}}]);